{"ast":null,"code":"import _classCallCheck from\"C:/Users/aucar/Documents/proyectreact01/docs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/aucar/Documents/proyectreact01/docs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/aucar/Documents/proyectreact01/docs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/aucar/Documents/proyectreact01/docs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";//componente principal\nimport React,{Component}from'react';import Buscador from'./components/Buscador';import Resultado from'./components/Resultado';import\"tailwindcss/tailwind.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={//termino: 'cafe', el state arranca con arreglos vacios para luego rellenarlos en la busqueda\ntermino:'',imagenes:[],pagina:''};_this.scroll=function(){var elemento=document.querySelector('.jumbotron');elemento.scrollIntoView('smooth','start');};_this.paginaAnterior=function(){console.log('anterior...');//console.log('siguiente...');\n//leer el state de la página actual\nvar pagina=_this.state.pagina;//condicion si pag=1, parar --> no ir atras\nif(pagina===1)return null;//resta uno a la página actual\npagina-=1;// agregar el cambio al state\n_this.setState({pagina:pagina},function(){_this.consultarApi();_this.scroll();});//console.log(pagina);\n};_this.paginaSiguiente=function(){//console.log('siguiente...');\n//leer el state de la página actual\nvar pagina=_this.state.pagina;//sumar uno a la página siguiente\npagina=pagina+1;// agregar el cambio al state\n_this.setState({pagina:pagina},function(){_this.consultarApi();_this.scroll();});//pruebas en inspeccionar menu React\n//console.log(pagina);\n};_this.consultarApi=function(){var termino=_this.state.termino;// const url =`https://pixabay.com/api/?key=24565416-af5f6e53807c085cc3685833b&q=${termino}`;\n//actualizar\nvar pagina=_this.state.pagina;//instalar la Extensión JSONView ---> ordena los datos de pixabay, tipo json en el consumo de la app / imagenes\n//hay cosas que no se necesiatan de la url, hasta el q->query--lo que el usuario escribe en la búsqueda\n//const url =`https://pixabay.com/api/?key=24565416-af5f6e53807c085cc3685833b&q=${this.state.termino}`;\n//ver la documentacion de pixabay\nvar url=\"https://pixabay.com/api/?key=24565416-af5f6e53807c085cc3685833b&q=\".concat(termino,\"&per_page=30&page=\").concat(pagina);console.log(url);//puede urilizar otras como ayax, jicuery, axios.....\nfetch(url).then(function(respuesta){return respuesta.json();})//.then(resultado) => console.log(resultado.hits); ---> para pruebas en consola\n.then(function(resultado){return _this.setState({imagenes:resultado.hits});});};_this.datosBusqueda=function(termino){//console.log(termino);   \n//observamos texto en pageweb iniciando en pag 1\n//pruebas en console menu --> React\n_this.setState({termino:termino,pagina:1},function(){_this.consultarApi();});};return _this;}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/ (//utilizando bootsrap\n_jsxs(\"div\",{className:\"app container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"jumbotron\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"marca\",className:\"lead text-center text-white\",children:\"Buscador de Imag\\xE9nes\"}),/*#__PURE__*/_jsx(Buscador//aparacen en consola--En menu React\n//mensaje=\"Buscador..\"\n,{datosBusqueda:this.datosBusqueda})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-center\",children:/*#__PURE__*/_jsx(Resultado,{imagenes:this.state.imagenes,paginaAnterior:this.paginaAnterior,paginaSiguiente:this.paginaSiguiente})})]}));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/aucar/Documents/proyectreact01/docs/src/App.jsx"],"names":["React","Component","Buscador","Resultado","App","state","termino","imagenes","pagina","scroll","elemento","document","querySelector","scrollIntoView","paginaAnterior","console","log","setState","consultarApi","paginaSiguiente","url","fetch","then","respuesta","json","resultado","hits","datosBusqueda"],"mappings":"4nBAAA;AACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAO,0BAAP,C,2FAGMC,CAAAA,G,+SAEFC,K,CAAQ,CACJ;AACAC,OAAO,CAAC,EAFJ,CAGJC,QAAQ,CAAG,EAHP,CAIJC,MAAM,CAAE,EAJJ,C,OAORC,M,CAAS,UAAM,CACX,GAAMC,CAAAA,QAAQ,CAAGC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAjB,CACAF,QAAQ,CAACG,cAAT,CAAwB,QAAxB,CAAkC,OAAlC,EACH,C,OAEDC,c,CAAe,UAAI,CACfC,OAAO,CAACC,GAAR,CAAY,aAAZ,EAEA;AACA;AACA,GAAIR,CAAAA,MAAM,CAAG,MAAKH,KAAL,CAAWG,MAAxB,CACA;AACA,GAAGA,MAAM,GAAK,CAAd,CAAkB,MAAO,KAAP,CAClB;AACAA,MAAM,EAAG,CAAT,CAEA;AACA,MAAKS,QAAL,CAAc,CACVT,MAAM,CAANA,MADU,CAAd,CAEG,UAAM,CACL,MAAKU,YAAL,GACA,MAAKT,MAAL,GACH,CALD,EAMA;AACH,C,OACDU,e,CAAkB,UAAM,CACpB;AACA;AACA,GAAIX,CAAAA,MAAM,CAAG,MAAKH,KAAL,CAAWG,MAAxB,CACA;AACAA,MAAM,CAAGA,MAAM,CAAG,CAAlB,CAEA;AACA,MAAKS,QAAL,CAAc,CACVT,MAAM,CAANA,MADU,CAAd,CAEG,UAAM,CACL,MAAKU,YAAL,GACA,MAAKT,MAAL,GACH,CALD,EAMA;AACA;AACH,C,OAEDS,Y,CAAe,UAAM,CAEjB,GAAMZ,CAAAA,OAAO,CAAG,MAAKD,KAAL,CAAWC,OAA3B,CACA;AACA;AACA,GAAME,CAAAA,MAAM,CAAG,MAAKH,KAAL,CAAWG,MAA1B,CACA;AACA;AACA;AACA;AACA,GAAMY,CAAAA,GAAG,6EAAuEd,OAAvE,8BAAmGE,MAAnG,CAAT,CAEAO,OAAO,CAACC,GAAR,CAAYI,GAAZ,EACA;AACAC,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,CACM,SAAAC,SAAS,QAAIA,CAAAA,SAAS,CAACC,IAAV,EAAJ,EADf,CAEA;AAFA,CAGCF,IAHD,CAGM,SAAAG,SAAS,QAAI,OAAKR,QAAL,CAAc,CAAEV,QAAQ,CAAGkB,SAAS,CAACC,IAAvB,CAAd,CAAJ,EAHf,EAIH,C,OAEDC,a,CAAgB,SAACrB,OAAD,CAAW,CACvB;AACA;AACA;AACA,MAAKW,QAAL,CAAc,CACVX,OAAO,CAAGA,OADA,CAEVE,MAAM,CAAE,CAFE,CAAd,CAGG,UAAK,CACJ,MAAKU,YAAL,GACH,CALD,EAMH,C,qDAED,iBAAQ,CACJ,oBACI;AACA,aAAK,SAAS,CAAC,eAAf,wBACI,aAAK,SAAS,CAAC,WAAf,wBACI,UAAG,EAAE,CAAC,OAAN,CAAc,SAAS,CAAC,6BAAxB,qCADJ,cAGI,KAAC,QACD;AACA;AAFA,EAGA,aAAa,CAAE,KAAKS,aAHpB,EAHJ,GADJ,cAWI,YAAK,SAAS,CAAC,oBAAf,uBACI,KAAC,SAAD,EACI,QAAQ,CAAE,KAAKtB,KAAL,CAAWE,QADzB,CAEI,cAAc,CAAE,KAAKO,cAFzB,CAGI,eAAe,CAAE,KAAKK,eAH1B,EADJ,EAXJ,GAFJ,EAuBH,C,iBA5GalB,S,EAgHlB,cAAeG,CAAAA,GAAf","sourcesContent":["//componente principal\r\nimport React, { Component } from 'react';\r\nimport Buscador from './components/Buscador';\r\nimport Resultado from './components/Resultado';\r\nimport \"tailwindcss/tailwind.css\"\r\n\r\n\r\nclass App extends Component{\r\n    //para que reaccione react con state\r\n    state = {\r\n        //termino: 'cafe', el state arranca con arreglos vacios para luego rellenarlos en la busqueda\r\n        termino:'',\r\n        imagenes : [],\r\n        pagina: ''\r\n    }\r\n    //para crear el scroll ↓↑\r\n    scroll = () => {\r\n        const elemento = document.querySelector('.jumbotron');\r\n        elemento.scrollIntoView('smooth', 'start');\r\n    }\r\n    //comunicarlo con paginacion\r\n    paginaAnterior=()=>{\r\n        console.log('anterior...');\r\n\r\n        //console.log('siguiente...');\r\n        //leer el state de la página actual\r\n        let pagina = this.state.pagina;\r\n        //condicion si pag=1, parar --> no ir atras\r\n        if(pagina === 1 ) return null;\r\n        //resta uno a la página actual\r\n        pagina -=1;\r\n\r\n        // agregar el cambio al state\r\n        this.setState({\r\n            pagina\r\n        }, () => {\r\n            this.consultarApi();\r\n            this.scroll();\r\n        });\r\n        //console.log(pagina);\r\n    }\r\n    paginaSiguiente = () => {\r\n        //console.log('siguiente...');\r\n        //leer el state de la página actual\r\n        let pagina = this.state.pagina;\r\n        //sumar uno a la página siguiente\r\n        pagina = pagina + 1;\r\n\r\n        // agregar el cambio al state\r\n        this.setState({\r\n            pagina\r\n        }, () => {\r\n            this.consultarApi();\r\n            this.scroll();\r\n        });\r\n        //pruebas en inspeccionar menu React\r\n        //console.log(pagina);\r\n    }\r\n    //la consulata de imagenes\r\n    consultarApi = () => {\r\n\r\n        const termino = this.state.termino;\r\n        // const url =`https://pixabay.com/api/?key=24565416-af5f6e53807c085cc3685833b&q=${termino}`;\r\n        //actualizar\r\n        const pagina = this.state.pagina;\r\n        //instalar la Extensión JSONView ---> ordena los datos de pixabay, tipo json en el consumo de la app / imagenes\r\n        //hay cosas que no se necesiatan de la url, hasta el q->query--lo que el usuario escribe en la búsqueda\r\n        //const url =`https://pixabay.com/api/?key=24565416-af5f6e53807c085cc3685833b&q=${this.state.termino}`;\r\n        //ver la documentacion de pixabay\r\n        const url =`https://pixabay.com/api/?key=24565416-af5f6e53807c085cc3685833b&q=${termino}&per_page=30&page=${pagina}`;\r\n\r\n        console.log(url);\r\n        //puede urilizar otras como ayax, jicuery, axios.....\r\n        fetch(url)\r\n        .then(respuesta => respuesta.json())\r\n        //.then(resultado) => console.log(resultado.hits); ---> para pruebas en consola\r\n        .then(resultado => this.setState({ imagenes : resultado.hits}))\r\n    }\r\n    //viene del hijo al padre--Del buscador a la consola\r\n    datosBusqueda = (termino)=>{ \r\n        //console.log(termino);   \r\n        //observamos texto en pageweb iniciando en pag 1\r\n        //pruebas en console menu --> React\r\n        this.setState({\r\n            termino : termino,\r\n            pagina: 1\r\n        }, ()=> {\r\n            this.consultarApi();\r\n        })\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            //utilizando bootsrap\r\n            <div className=\"app container\">\r\n                <div className=\"jumbotron\">\r\n                    <p id=\"marca\" className=\"lead text-center text-white\">\r\n                        Buscador de Imagénes</p>\r\n                    <Buscador\r\n                    //aparacen en consola--En menu React\r\n                    //mensaje=\"Buscador..\"\r\n                    datosBusqueda={this.datosBusqueda}/>\r\n\r\n                </div>\r\n                {/* {this.state.termino} */}\r\n                <div className=\"row justify-center\">\r\n                    <Resultado\r\n                        imagenes={this.state.imagenes}\r\n                        paginaAnterior={this.paginaAnterior}\r\n                        paginaSiguiente={this.paginaSiguiente}\r\n                    />\r\n                </div>\r\n                {/* {this.state.termino} */}\r\n            </div>\r\n        );\r\n    }\r\n} \r\n\r\n\r\nexport default App;\r\n\r\n"]},"metadata":{},"sourceType":"module"}